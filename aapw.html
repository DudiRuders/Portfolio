<!doctype html>
<html lang="pl" class="scroll-smooth dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A.A.P.W — Case study | Inteligentna automatyzacja</title>
  <meta name="description" content="A.A.P.W: inteligentna automatyzacja dokumentów (n8n). Airtable → render DOCX → PDF → Drive → statusy + obsługa błędów." />
  <meta name="theme-color" content="#0b1220" />

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass { backdrop-filter: blur(10px); }
  </style>
</head>

<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100">
  <!-- Header -->
  <header class="sticky top-0 z-50 border-b border-slate-200 bg-white/80 glass dark:border-white/10 dark:bg-slate-950/70">
    <div class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between">
      <a href="./#projekty" class="font-semibold tracking-tight">
        <span class="text-slate-900 dark:text-slate-100">Portfolio</span>
        <span class="text-slate-500 dark:text-slate-400"> / A.A.P.W</span>
      </a>

      <div class="flex items-center gap-2">
        <button id="themeBtn"
          class="rounded-xl border border-slate-200 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-100
                 dark:border-white/10 dark:text-slate-200 dark:hover:bg-white/5"
          type="button">
          Tryb: <span id="themeLabel">ciemny</span>
        </button>

        <!-- podmień link jeśli repo nazywa się inaczej -->
        <a href="https://github.com/dudiruders/aeri-automation-map"
           target="_blank" rel="noreferrer"
           class="rounded-xl bg-slate-900 text-white px-3 py-1.5 text-sm font-semibold hover:bg-slate-800
                  dark:bg-white dark:text-slate-950 dark:hover:bg-slate-200">
          Repo mapy
        </a>
      </div>
    </div>
  </header>

  <main class="mx-auto max-w-5xl px-4 py-12">
    <!-- Top badge -->
    <div class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm text-slate-600
                dark:border-white/10 dark:bg-white/5 dark:text-slate-300">
      <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
      Intelligent Automation • n8n • Dokumenty
    </div>

    <!-- Title -->
    <h1 class="mt-6 text-3xl md:text-5xl font-bold tracking-tight">
      A.A.P.W — inteligentna automatyzacja dokumentów
    </h1>

    <p class="mt-5 max-w-3xl text-lg md:text-xl text-slate-700 dark:text-slate-300">
      Publicznie pokazuję <b>architekturę i mapę procesu</b> (bez workflow i sekretów). System automatyzuje generowanie dokumentów:
      pobiera dane, uzupełnia szablon DOCX, konwertuje do PDF, zapisuje wynik i aktualizuje status.
    </p>

    <!-- CTA -->
    <div class="mt-8 flex flex-wrap gap-3">
      <a href="#mapa"
         class="rounded-xl bg-emerald-500 text-slate-950 px-5 py-3 font-semibold hover:bg-emerald-400">
        Zobacz mapę działania
      </a>
      <a href="./#projekty"
         class="rounded-xl border border-slate-200 px-5 py-3 font-semibold text-slate-900 hover:bg-slate-100
                dark:border-white/10 dark:text-slate-100 dark:hover:bg-white/5">
        ← Wróć do projektów
      </a>
    </div>

    <!-- Summary cards -->
    <section class="mt-10 grid gap-4 md:grid-cols-3">
      <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
        <div class="text-sm font-semibold text-slate-900 dark:text-slate-100">Inputs</div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
          Airtable (rekordy), szablon DOCX (Drive), obrazy/zasoby (opcjonalnie).
        </p>
      </div>
      <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
        <div class="text-sm font-semibold text-slate-900 dark:text-slate-100">Outputs</div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
          DOCX + PDF w Google Drive + linki/statusy w Airtable.
        </p>
      </div>
      <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
        <div class="text-sm font-semibold text-slate-900 dark:text-slate-100">Wartość</div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
          Mniej ręcznej pracy, mniej błędów, powtarzalny proces, szybkie generowanie dokumentów.
        </p>
      </div>
    </section>

    <!-- Problem / Solution -->
    <section class="mt-12 grid gap-6 md:grid-cols-2">
      <div class="rounded-2xl border border-slate-200 bg-white p-7 dark:border-white/10 dark:bg-white/5">
        <h2 class="text-xl font-bold">Problem</h2>
        <ul class="mt-4 list-disc pl-5 space-y-2 text-slate-700 dark:text-slate-300">
          <li>Generowanie dokumentów ręcznie zajmuje dużo czasu.</li>
          <li>Błędy w danych i wklejaniu treści są częste.</li>
          <li>Brak spójnego statusu „Work / Done / Error”.</li>
          <li>Trudno śledzić, gdzie są finalne pliki i kto je zrobił.</li>
        </ul>
      </div>

      <div class="rounded-2xl border border-slate-200 bg-white p-7 dark:border-white/10 dark:bg-white/5">
        <h2 class="text-xl font-bold">Rozwiązanie</h2>
        <ul class="mt-4 list-disc pl-5 space-y-2 text-slate-700 dark:text-slate-300">
          <li>Workflow w n8n uruchamiany cronem lub webhookiem.</li>
          <li>Walidacja danych + mapowanie pól do dokumentu.</li>
          <li>Render DOCX + podmiana obrazów.</li>
          <li>Konwersja DOCX → PDF.</li>
          <li>Zapis do Drive + aktualizacja statusów w Airtable.</li>
        </ul>
      </div>
    </section>

    <!-- Map -->
    <section id="mapa" class="mt-12">
      <div class="flex items-end justify-between gap-4 flex-wrap">
        <div>
          <h2 class="text-2xl md:text-3xl font-bold">Mapa działania workflow</h2>
          <p class="mt-2 text-slate-700 dark:text-slate-300">
            Diagram wykonany w Excalidraw (repo nie zawiera sekretów ani produkcyjnych workflow).
          </p>
        </div>
        <a href="https://github.com/dudiruders/aeri-automation-map"
           target="_blank" rel="noreferrer"
           class="text-sm text-slate-700 hover:text-slate-900 underline underline-offset-4
                  dark:text-slate-300 dark:hover:text-white">
          Otwórz repo mapy →
        </a>
      </div>

      <!-- Jeśli chcesz wkleić obrazek z repo mapy na stronę:
           Zmień USER/REPO, jeśli inne, i upewnij się, że ścieżka jest poprawna. -->
      <div class="mt-6 rounded-2xl border border-slate-200 bg-white p-4 dark:border-white/10 dark:bg-white/5">
        <p class="mb-3 text-sm text-slate-600 dark:text-slate-300">
          (Opcjonalnie) Podgląd diagramu bezpośrednio na stronie:
        </p>

        <!-- Wklej tu RAW link do PNG z repo mapy (jak będziesz chciał) -->
        <!-- PRZYKŁAD:
        <img class="w-full rounded-xl" alt="A.A.P.W workflow map"
             src="https://raw.githubusercontent.com/dudiruders/aeri-automation-map/main/docs/diagrams/workflow-map.png" />
        -->

        <div class="rounded-xl border border-dashed border-slate-300 p-6 text-center text-sm text-slate-600
                    dark:border-white/20 dark:text-slate-300">
          Jeśli chcesz, podepnę tu automatycznie obrazek z repo mapy (RAW link do PNG).
        </div>
      </div>
    </section>

    <!-- Tech stack -->
    <section class="mt-12">
      <h2 class="text-2xl md:text-3xl font-bold">Komponenty i integracje</h2>

      <div class="mt-6 grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
          <h3 class="font-semibold">n8n (orchestrator)</h3>
          <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
            Trigger, pobieranie danych, transformacje, kontrola błędów, logika statusów.
          </p>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
          <h3 class="font-semibold">Airtable (źródło danych + statusy)</h3>
          <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
            Rekordy wejściowe, pola do dokumentu, status Work/Done/Error, linki do wyników.
          </p>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
          <h3 class="font-semibold">Render DOCX (service)</h3>
          <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
            Uzupełnianie szablonu i podmiana obrazów (HTTP endpoints /render, /replace-image).
          </p>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
          <h3 class="font-semibold">Google Drive + PDF</h3>
          <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
            Szablony i wyniki w Drive, konwersja DOCX → PDF (np. ConvertAPI).
          </p>
        </div>
      </div>
    </section>

    <!-- Security -->
    <section class="mt-12 rounded-2xl border border-slate-200 bg-white p-7 dark:border-white/10 dark:bg-white/5">
      <h2 class="text-xl font-bold">Security</h2>
      <p class="mt-3 text-slate-700 dark:text-slate-300">
        Publiczne repo prezentuje tylko mapę i opis architektury. Produkcyjne workflow i sekrety (tokeny, klucze API)
        nie są publikowane.
      </p>
      <ul class="mt-4 list-disc pl-5 space-y-2 text-slate-700 dark:text-slate-300">
        <li>Brak tokenów/sekretów w repo.</li>
        <li>Workflow pozostaje prywatny.</li>
        <li>W razie potrzeby: sanitized export + ręczne credentials w n8n.</li>
      </ul>
    </section>

    <!-- Footer -->
    <footer class="mt-12 py-8 text-sm text-slate-500 dark:text-slate-400">
      <div class="border-t border-slate-200 pt-6 flex items-center justify-between flex-wrap gap-2 dark:border-white/10">
        <span>© <span id="year"></span> — A.A.P.W case study</span>
        <span>GitHub Pages • Tailwind CDN</span>
      </div>
    </footer>
  </main>

  <script>
    // rok
    document.getElementById('year').textContent = new Date().getFullYear();

    // theme toggle (czysto: tylko klasa "dark" na <html>)
    const btn = document.getElementById('themeBtn');
    const label = document.getElementById('themeLabel');

    function setTheme(mode) {
      if (mode === 'light') {
        document.documentElement.classList.remove('dark');
        label.textContent = 'jasny';
      } else {
        document.documentElement.classList.add('dark');
        label.textContent = 'ciemny';
      }
      localStorage.setItem('theme', mode);
    }

    const saved = localStorage.getItem('theme') || 'dark';
    setTheme(saved);

    btn.addEventListener('click', () => {
      const current = localStorage.getItem('theme') || 'dark';
      setTheme(current === 'dark' ? 'light' : 'dark');
    });
  </script>
</body>
</html>
